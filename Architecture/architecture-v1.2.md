Проект **Atlas** разработан для упрощения настройки и интеграции OAuth в приложениях с использованием микросервисной архитектуры. Система включает в себя следующие компоненты:

---

### 1. **User Management Service (Сервис управления пользователями)**

- Управляет учётными записями: создание, обновление, удаление.
- Предоставляет API для регистрации, аутентификации и управления профилем.
- Хранит данные пользователей, включая идентификационные данные и роли, в базе данных.
- Взаимодействует с **Auth Service** для проверки прав доступа.

---

### 2. **Project Management Service (Сервис управления проектами)**

- Управляет проектами, в которых используется OAuth.
- Сохраняет данные о проектах (идентификаторы, метаданные, связи с OAuth).
- Поддерживает операции CRUD для проектов.
- Обеспечивает связь проектов с пользователями и доступ к API для других сервисов.

---

### 3. **OAuth Provider Management Service**

- Управляет интеграцией с провайдерами OAuth (Google, GitHub и другие).
- Сохраняет настройки провайдеров (client ID, секреты, редирект-URL).
- Предоставляет API для добавления, редактирования и удаления провайдеров.

---

### 4. **OAuth Flow Orchestration Service**

- Управляет процессом OAuth-аутентификации (инициация, редиректы, обработка кодов авторизации).
- Генерирует ссылки авторизации для клиентов и обрабатывает запросы от провайдеров.

---

### 5. **Token Management and Validation Service**

- Управляет токенами OAuth (хранение, обновление, отзыв).
- Проверяет валидность токенов доступа и обновления.
- Обеспечивает безопасность данных токенов через шифрование и защиту от утечек.

---

### 6. **Auth Service (Сервис аутентификации)**

- Централизованный компонент для управления аутентификацией и авторизацией.
- Обрабатывает вход пользователей через OAuth или внутренние учётные данные.
- Взаимодействует с **Token Management and Validation Service** для управления токенами сеансов.
- Интегрирован с Gateway для проверки прав доступа.

---

### 7. **Gateway (Шлюз)**

- Точка входа для всех внешних и внутренних запросов.
- Маршрутизирует запросы между микросервисами.
- Реализует базовые функции безопасности: проверка аутентификации, ограничение частоты запросов.
- Интегрирован с **Auth Service** для проверки доступа к ресурсам.

---

### 8. **Web Application (Веб-приложение)**

- Интерфейс для взаимодействия с системой.
- Позволяет пользователям управлять учётными записями, проектами и настройками OAuth через GUI.
- Взаимодействует с **Gateway**, отправляя запросы к микросервисам.

---

### 9. **Data (База данных)**

- Центральное хранилище данных системы.
- Содержит информацию о пользователях, проектах, настройках OAuth и токенах.
- Использует PostgreSQL для надёжности и масштабируемости.

---

### 10. **OAuth Cache (Кэш OAuth)**

- Кэширует токены OAuth для ускорения взаимодействия с провайдерами.
- Использует Redis для быстрого доступа и минимизации запросов к внешним API.

---

### 11. **DevOps**

- Управляет инфраструктурой, автоматизацией развертывания и CI/CD конвейерами.
- Использует Kubernetes для управления микросервисами и обеспечения отказоустойчивости.
- Внедряет мониторинг и логирование (Prometheus, Grafana, ELK-стек).

---

### Взаимодействие между сервисами:

- **OAuth Provider Management Service** и **OAuth Flow Orchestration Service** работают совместно для настройки и выполнения OAuth-потоков.
- **Token Management and Validation Service** взаимодействует с **Auth Service** для хранения и проверки токенов.
- **Gateway** маршрутизирует запросы ко всем микросервисам и обеспечивает безопасность.
- **Web Application** предоставляет пользовательский интерфейс, связывая клиентов с API Gateway.
